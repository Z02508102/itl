package com.zpx.itl.service.impl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.util.DigestUtils;

import com.zpx.itl.mapper.InfoMapper;
import com.zpx.itl.mapper.UserMapper;
import com.zpx.itl.pojo.InfoList;
import com.zpx.itl.pojo.PageBean;
import com.zpx.itl.pojo.User;
import com.zpx.itl.service.InfoService;
import com.zpx.itl.service.UserService;


@Service
public class InfoServiceImpl implements InfoService {

	@Autowired
	private InfoMapper infoMapper;
	private PageBean<InfoList> pageBean;
	
	//查询所有数据
	public List<InfoList> findAll(int index, int count) {
		
		//总记录数
		int total = infoMapper.getTotal();
		pageBean.setTotal(total);
		if(total % count == 0) {
			//总页数
			pageBean.setTotalPage(total / count);
		}else {
			pageBean.setTotalPage(total / count + 1);
		}
		List<InfoList> list = infoMapper.findAll(index, count);
		return list;
	}

	//获取总记录数
	/*public int getTotal() {
		
		return 0;
	}*/

	

}
